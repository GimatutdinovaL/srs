### Введение

## 1.1 Цель документа

Цель данного документа — **формализовать функциональные и нефункциональные требования** к веб- и мобильному сервису управления банковскими картами, предназначенному для клиентов банка и сотрудников поддержки.

Сервис предоставляет пользователям возможность безопасно управлять своими банковскими картами:  
- просматривать баланс,  
- блокировать/разблокировать карты,  
- настраивать уведомления,  
- заказывать перевыпуск,  
- управлять виртуальными картами,  
- совершать связанные операции.

Документ служит основой для согласования ожиданий заказчика и исполнителя на всех этапах разработки.

## 1.2 Область действия

### 1.2.1 Целевая аудитория системы (пользователи)

- **Клиенты банка** — физические лица, имеющие активные банковские карты.  
- **Сотрудники банка** — операторы колл-центра и поддержки, имеющие ограниченный доступ к данным клиентов.  
- **Администраторы** — сотрудники банка с полными правами управления системой и аналитикой.

### 1.2.2 Основные функциональные модули

- Модуль аутентификации и авторизации (вход, регистрация, двухфакторная проверка).  
- Публичная часть сайта (информация о картах, тарифах, безопасности, поддержке).  
- Личный кабинет клиента (управление картами, история операций, уведомления).  
- Панель поддержки (просмотр данных клиентов, выполнение запросов от имени клиента).  
- Админ-панель (управление пользователями, продуктами, тарифами, отчётность).  
- Модуль уведомлений (SMS, email, push-уведомления).

### 1.2.3 Ключевые нефункциональные аспекты

- Высокий уровень безопасности (**соответствие PCI DSS, 152-ФЗ, GDPR**).  
- Надёжность и отказоустойчивость.  
- Быстродействие и отзывчивость интерфейса.  
- Адаптивность и кроссплатформенность.  
- Возможность масштабирования и интеграции с CRM и BI-системами.

### 1.2.4 Что не входит в рамки документа

- Разработка мобильных нативных приложений (**реализуется как адаптивный PWA или гибридное решение**).  
- Физическая эмиссия карт (**логистика, печать, доставка**).  
- Обработка транзакций (**осуществляется внешними платёжными системами**).  
- Детальный UI/UX-дизайн (**описываются только поведенческие требования**).  
- Реализация внутренней банковской Core-системы.

## 1.3 Определения, сокращения и термины

| Термин | Определение |
|--------|-------------|
| **Карта** | Банковская платёжная карта (дебетовая, кредитная, виртуальная), привязанная к счёту клиента. |
| **Личный кабинет (ЛК)** | Защищённый раздел сервиса, доступный после авторизации. |
| **PAN** | Primary Account Number — основной номер карты. |
| **CVV/CVC** | Код подтверждения карты, используемый для онлайн-платежей. |
| **2FA** | Двухфакторная аутентификация (SMS, push, TOTP, биометрия). |
| **PCI DSS** | Стандарт безопасности данных индустрии платёжных карт. |
| **Core Banking System (CBS)** | Центральная банковская система, хранящая данные о счетах, картах и транзакциях. |
| **Виртуальная карта** | Цифровая карта без физического носителя, используемая для онлайн-платежей. |
| **Слот** | Временной интервал, доступный для выбора при заказе перевыпуска или доставки. |

# 2. Общая информация о системе

## 2.1 Заинтересованные стороны

| Стейкхолдер | Обязанности | Проблемы / Потребности |
|-------------|-------------|------------------------|
| **Клиент банка** | Управление своими картами, контроль расходов, защита от мошенничества. | 1. Быстрая блокировка карты<br>2. Прозрачная история операций<br>3. Удобный заказ перевыпуска<br>4. Настройка уведомлений<br>5. Безопасный доступ к данным |
| **Сотрудник поддержки** | Помощь клиентам, проверка данных, выполнение операций по запросу. | 1. Быстрый доступ к данным клиента<br>2. Возможность временно заблокировать карту<br>3. Минимизация ручной работы |
| **Администратор системы** | Настройка параметров, мониторинг, отчётность, управление доступом. | 1. Единая панель управления<br>2. Аналитика по активности пользователей<br>3. Контроль безопасности и инцидентов |
| **Бизнес-заказчик (банк)** | Повышение лояльности, снижение нагрузки на колл-центр, цифровизация услуг. | 1. Рост числа онлайн-операций<br>2. Снижение количества звонков в поддержку<br>3. Соответствие регуляторным требованиям |

## 2.2 Ролевая модель

| Роль | Описание | Права |
|------|----------|-------|
| **Гость** | Неавторизованный пользователь. | Просмотр FAQ, контактов, общих условий использования. |
| **Клиент** | Авторизованный держатель карты. | - Просмотр всех своих карт<br>- Блокировка/разблокировка<br>- Заказ перевыпуска/виртуальной карты<br>- Просмотр истории операций<br>- Настройка уведомлений<br>- Экспорт данных |
| **Сотрудник поддержки** | Авторизованный сотрудник банка. | - Просмотр данных клиента (по запросу)<br>- Временная блокировка карты<br>- Отправка уведомлений<br>- Просмотр логов действий клиента |
| **Администратор** | Технический/операционный сотрудник. | - Полный доступ ко всем данным<br>- Управление пользователями и ролями<br>- Настройка параметров безопасности<br>- Генерация отчётов<br>- Мониторинг инцидентов |

# 3. Требования к системе

## 3.1 Функциональные требования

### 1. Модуль аутентификации и авторизации
1.1. Система поддерживает три типа ролей: **клиент**, **сотрудник поддержки**, **администратор**.  
1.2. Авторизация возможна через **логин/пароль + 2FA** (SMS, push-уведомление, TOTP, биометрия).  
1.3. Восстановление доступа — через **email или SMS с подтверждением**.  
1.4. После **5 неудачных попыток входа** — блокировка на **15 минут**.  
1.5. Сессия автоматически завершается через **30 минут неактивности**.

### 2. Публичная часть сайта
2.1. Доступна информация: типы карт, условия обслуживания, безопасность, поддержка.  
2.2. Присутствует форма обратной связи и ссылки на соцсети.  
2.3. Есть виджет «Не помните логин?» с подсказками по восстановлению.

### 3. Личный кабинет клиента
3.1. Главная страница отображает список всех карт с краткой информацией:  
 – Тип (дебет/кредит, Mastercard/Visa)  
 – Последние 4 цифры PAN  
 – Баланс / доступный лимит  
 – Статус (активна, заблокирована, истекает)  

3.2. По клику на карту открывается детальная страница с:  
 – Полным балансом  
 – Сроком действия  
 – CVV (по запросу с подтверждением 2FA)  
 – Историей операций за последние 90 дней  

3.3. Клиент может:  
 – Заблокировать/разблокировать карту (с указанием причины: потеря, подозрительная активность и др.)  
 – Заказать перевыпуск (выбор способа получения: офис, курьер)  
 – Создать виртуальную карту (одноразовую или многоразовую)  
 – Настроить уведомления (SMS, push, email) по типам операций  
 – Экспортировать историю операций в CSV/PDF  

3.4. Все действия логируются и отображаются в разделе **«История активности»**.

### 4. Модуль виртуальных карт
4.1. Клиент может создать до **10 виртуальных карт**.  
4.2. Для каждой можно задать:  
 – Лимит расходов  
 – Срок действия  
 – Список разрешённых сайтов (опционально)  
4.3. Виртуальные карты отображаются в общем списке с пометкой **«Виртуальная»**.

### 5. Панель администратора
5.1. Управление учётными записями: создание, блокировка, сброс пароля.  
5.2. Просмотр всех операций по карте (включая действия клиента).  
5.3. Возможность принудительно заблокировать любую карту.  
5.4. Генерация отчётов:  
 – По количеству блокировок  
 – По активности пользователей  
 – По заказам перевыпуска  
5.5. Настройка глобальных параметров: время жизни сессии, политики безопасности.

### 6. Интеграции
6.1. Двусторонняя синхронизация с **Core Banking System** в реальном времени.  
6.2. Интеграция с **SMS/email/push-шлюзами** для уведомлений.  
6.3. Поддержка **RESTful API** для будущей интеграции с CRM и BI-системами.

## 3.2 Нефункциональные требования

### 1. Производительность
1.1. Время загрузки любой страницы — **≤ 2 секунды**.  
1.2. Время ответа API — **≤ 800 мс в 95% случаев**.  
1.3. Система выдерживает до **5 000 одновременных пользователей**.  
1.4. История операций (до 1000 записей) загружается за **≤ 1 секунду**.

### 2. Надёжность
2.1. Доступность — **≥ 99.9% в месяц**.  
2.2. Автоматическое резервное копирование — **каждые 15 минут**.  
2.3. При сбое CBS — отображение **кэшированных данных последнего успешного обновления**.

### 3. Безопасность
3.1. Все данные передаются по **HTTPS (TLS 1.3)**.  
3.2. Хранение PAN и CVV — **только в зашифрованном виде (AES-256)**.  
3.3. Пароли — **хеширование по алгоритму bcrypt**.  
3.4. Соответствие: **PCI DSS, 152-ФЗ, GDPR**.  
3.5. Аудит всех действий с персональными данными.

### 4. Удобство использования
4.1. Адаптивный дизайн: корректное отображение на устройствах от **320px**.  
4.2. Среднее количество кликов для блокировки карты — **≤ 2**.  
4.3. Единый стиль интерфейса, понятная навигация, подсказки при ошибках.

### 5. Совместимость
5.1. Поддержка браузеров: **Chrome, Firefox, Safari, Edge (последние 2 версии)**.  
5.2. Корректная работа на **iOS и Android через мобильный браузер**.

### 6. Масштабируемость
6.1. Архитектура позволяет **горизонтальное масштабирование** (Kubernetes, микросервисы).  
6.2. Возможность добавления новых филиалов или продуктов **без переработки ядра**.

### 7. Логирование и мониторинг
7.1. Ведение логов: ошибки, бизнес-события, входы, изменения данных.  
7.2. Интеграция с системами мониторинга (**Prometheus, Grafana, Sentry**).